*{box-sizing:border-box}
body{margin:0;background:#0d1117;color:#e6edf3;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
a{color:inherit}
.container{max-width:1200px;margin:0 auto;padding:16px}
.row{display:flex;gap:12px;flex-wrap:wrap}
.card{background:#161b22;border:1px solid #30363d;border-radius:14px;padding:14px;flex:1;min-width:280px}
.h{margin:0 0 10px 0}
.btn{background:#21262d;border:1px solid #30363d;border-radius:10px;padding:8px 12px;color:#e6edf3;cursor:pointer}
.btn.ok{background:#238636;border-color:#2ea043}
.btn.warn{background:#8b2d2d;border-color:#a13737}
.btn:disabled{opacity:.6;cursor:not-allowed}
.input,.select{background:#0d1117;color:#e6edf3;border:1px solid #30363d;border-radius:10px;padding:8px}
.small{opacity:.8;font-size:12px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.list{font-size:14px;line-height:1.5}
.badge{display:inline-block;border:1px solid #30363d;border-radius:999px;padding:2px 8px;font-size:12px;margin-left:6px}
.tbl{border-collapse:collapse;width:100%}
.tbl th,.tbl td{border:1px solid #30363d;padding:6px 8px;text-align:left;font-size:13px}

/* Bildfläche */
.stage{
  position:relative;
  width:100%;
  max-width:1000px;
  aspect-ratio:16/9;
  background:#0a0a0a;
  border-radius:12px;
  overflow:hidden;
  border:1px solid #30363d;
  isolation:isolate;
  user-select:none;
}
.stage img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:1}
.mask{position:absolute;inset:0;background:#000;opacity:1;transition:opacity .2s ease;z-index:5}
.mask.hidden{opacity:0}

/* Klick-Vorschau und Fixpunkte */
.click-dot{position:absolute;width:12px;height:12px;border-radius:50%;border:2px solid #f5f5f5;background:transparent;transform:translate(-50%,-50%);pointer-events:none;z-index:7}
.click-ring{position:absolute;border:2px dashed #c9d1d9;border-radius:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:7}

/* Reveal-Layer: zeigt Bildausschnitte (liegt ÜBER der Maske) */
#revealLayer{position:absolute;inset:0;z-index:6;pointer-events:none}
.reveal-window{
  position:absolute;inset:0;
  background: transparent;            /* Bild wird per JS als background-image gesetzt */
  background-repeat:no-repeat;
  background-position:center center;
  background-size:cover;
  transition:clip-path .2s ease;
}

/* Frage/Anweisung (vom Moderator) */
#questionOverlay{
  position:absolute;left:0;right:0;top:0;
  padding:8px 12px;background:rgba(0,0,0,.6);
  font-weight:600;display:none;z-index:8
}

/* Zielkreis (vom Moderator) */
#targetRing{
  border:2px solid #58a6ff !important;
  box-shadow:0 0 0 2px rgba(88,166,255,.2);
  z-index:7
}

/* Interaktionszustände */
.stage.clickable{cursor:crosshair}
.stage.blocked{cursor:not-allowed}

/* Politur */
.reveal-window, .click-ring, .click-dot{will-change:transform, clip-path}
